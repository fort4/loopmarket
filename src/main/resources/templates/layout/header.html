<header th:fragment="header">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
			<a class="navbar-brand d-flex align-items-center ms-3" th:href="@{/}">
			    <img src="/img/logo.png" alt="LoopMarket 로고" height="30" style="margin-right: 8px;" />
			</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
			

            <div class="collapse navbar-collapse" id="navbarNav">
              <ul class="navbar-nav me-auto">
                <li class="nav-item">
                  <a class="nav-link [[${#httpServletRequest.requestURI == '/'} ? 'active' : '']]" th:href="@{/}">홈</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link [[${#httpServletRequest.requestURI.startsWith('/products')} ? 'active' : '']]" th:href="@{/products}">상품 목록</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link [[${#httpServletRequest.requestURI.startsWith('/mypage')} ? 'active' : '']]" th:href="@{/mypage}">마이페이지</a>
                </li>
				<li class="nav-item">
				    <a class="nav-link" th:href="@{/chat/page}">나의 채팅</a>
				</li>
				<li class="nav-item">
                    <a class="nav-link" href="/notice">공지사항</a>
                </li>
				<li class="nav-item"
				    th:if="${session.userRole == 'ADMIN' or session.userRole == 'MANAGER'}">
				    <a class="nav-link" href="/admin">관리자 페이지</a>
				</li>
              </ul>
			
			  <ul class="navbar-nav">
				<!-- 알림 아이콘, 버튼 -->
				<li class="nav-item dropdown" id="notificationDropdown" th:if="${session.loginUser != null}">
				    <a class="nav-link position-relative" href="#" id="notifIcon" data-bs-toggle="modal" data-bs-target="#notifModal">
				        <i class="bi bi-bell"></i>
				        <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger" id="notifBadge" style="display:none;">
				            0
				        </span>
				    </a>
				</li>
				<li class="nav-item" 
				    th:if="${session.loginUser == null}">
				    <a class="nav-link" th:href="@{/member/login}">로그인</a>
				</li>
				
				<li class="nav-item" 
				    th:if="${session.loginUser != null}">
				    <a class="nav-link" th:href="@{/member/logout}">로그아웃</a>
				</li>
			  </ul>
			  
            </div>
        </div>
    </nav>
</header>
